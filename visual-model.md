Visual 模式是 Neovim 中非常强大的文本选择模式，提供了丰富的快捷键操作。以下是 Visual 模式下的主要快捷键：

## 基础选择操作

### 进入 Visual 模式

```vim
v          " 字符可视模式
V          " 行可视模式
<C-v>      " 块可视模式
gv         " 重新选择上次选择的内容
```

### 扩展选择范围

```vim
o          " 在选择区域内移动光标到另一端
O          " 在块可视模式中移动到另一角
```

## 移动和扩展选择

### 基本移动

```vim
h, j, k, l      " 向左、下、上、右移动
w, W            " 向前移动到下一个单词开头
e, E            " 向前移动到单词结尾
b, B            " 向后移动到单词开头
```

### 快速边界移动

```vim
0               " 移动到行首
^               " 移动到行首第一个非空白字符
$               " 移动到行尾
gg              " 移动到文件开头
G               " 移动到文件结尾
%               " 移动到匹配的括号
```

### 按文本对象选择

```vim
aw             " 选择一个单词（含周围空格）
iw             " 选择单词内部（不含周围空格）
a"             " 选择双引号内的内容（含引号）
i"             " 选择双引号内的内容（不含引号）
a'             " 选择单引号内的内容
i'             " 选择单引号内的内容
a( 或 ab       " 选择圆括号内的内容
i( 或 ib       " 选择圆括号内部内容
a{ 或 aB       " 选择花括号内的内容
i{ 或 iB       " 选择花括号内部内容
a[             " 选择方括号内的内容
i[             " 选择方括号内部内容
a<             " 选择尖括号内的内容
i<             " 选择尖括号内部内容
at             " 选择标签内容（含标签）
it             " 选择标签内部内容（不含标签）
```

## 编辑操作

### 基础编辑

```vim
d              " 删除选择内容
x              " 删除选择内容（同 d）
c              " 删除并进入插入模式
y              " 复制选择内容
p              " 粘贴（替换选择内容）
P              " 粘贴在选择内容前
```

### 大小写转换

```vim
U              " 转换为大写
u              " 转换为小写
~              " 切换大小写
```

### 缩进操作

```vim
>              " 向右缩进
<              " 向左缩进
=              " 自动缩进
```

## 高级操作

### 搜索和替换

```vim
*              " 搜索当前选择的文本
:/pattern      " 在选区中搜索模式
:s/old/new/g   " 在选区中替换文本
```

### 对齐和格式化

```vim
:center        " 居中对齐
:right         " 右对齐
:left          " 左对齐
gq             " 格式化文本（自动换行）
J              " 合并选中的行
```

### 寄存器操作

```vim
"ay            " 复制到寄存器 a
"ap            " 从寄存器 a 粘贴
"+y            " 复制到系统剪贴板
"+p            " 从系统剪贴板粘贴
```

## 实用技巧和自定义映射

### 自定义快速选择映射

```lua
-- 在 init.lua 中添加这些映射
vim.keymap.set("v", "J", ":m '>+1<CR>gv=gv", { desc = "向下移动选中行" })
vim.keymap.set("v", "K", ":m '<-2<CR>gv=gv", { desc = "向上移动选中行" })

-- 快速缩进并保持选择
vim.keymap.set("v", "<", "<gv", { desc = "向左缩进并保持选择" })
vim.keymap.set("v", ">", ">gv", { desc = "向右缩进并保持选择" })

-- 在可视模式下搜索选中的文本
vim.keymap.set("v", "//", 'y/<C-R>"<CR>', { desc = "搜索选中的文本" })
```

### 块选择特殊操作

在 `<C-v>`（块选择模式）中：

```vim
I              " 在块选择的每行前插入相同文本
A              " 在块选择的每行后插入相同文本
c              " 删除块选择内容并插入相同文本
d              " 删除块选择内容
```

### 实用命令示例

```vim
" 选择函数体（假设在函数内部）
vip           " 选择当前段落（通常是一个函数体）

" 选择整个文件
ggVG          " 从开头选择到结尾

" 选择到特定字符
vf"           " 选择到下一个双引号（包含引号）
vt"           " 选择到下一个双引号（不包含引号）

" 多行同时编辑（块选择）
<C-v>         " 进入块选择模式
jjj           " 向下选择多行
I             " 在每行前插入
// 注释       " 输入注释符号
<Esc>         " 完成插入，所有选中行都会添加注释
```

## 退出 Visual 模式

```vim
<Esc>         " 退出所有模式，包括可视模式
<C-c>         " 同 <Esc>
v             " 在可视模式下按 v 退出到普通模式
```

这些快捷键组合使用可以极大地提高文本编辑效率。建议先掌握基础的选择和编辑操作，然后逐步学习文本对象和高级技巧。
