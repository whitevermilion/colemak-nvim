# Neovim 复制/剪切括号内容：快速指南

## 一、最常用的三种方法

### **方法1：复制括号内内容（不含括号）**

```
y i (    # 复制小括号内的内容
y i {    # 复制大括号内的内容
y i [    # 复制中括号内的内容
y i <    # 复制尖括号内的内容
```

**记忆**：`yi(` = **y**ank **i**nside **(**

### **方法2：复制括号及内容**

```
y a (    # 复制小括号及内容
y a {    # 复制大括号及内容
y a [    # 复制中括号及内容
```

**记忆**：`ya(` = **y**ank **a**round **(**

### **方法3：剪切（删除并复制）**

```
d i (    # 剪切括号内内容（不含括号）
d a (    # 剪切括号及内容
```

---

## 二、具体操作演示

### **假设有代码：**

```javascript
function hello(name) {
  console.log("Hello, " + name);
}
```

### **操作示例：**

1. **光标在 `name` 括号内时**：
   - `yi(` → 复制 `name`（不含括号）
   - `ya(` → 复制 `(name)`（含括号）
   - `di(` → 剪切 `name`，留下 `()`
   - `da(` → 剪切 `(name)`，什么都不留

2. **光标在 `console.log` 括号内时**：
   - `yi(` → 复制 `"Hello, " + name`
   - `ya(` → 复制 `("Hello, " + name)`

---

## 三、更多实用技巧

### **1. 配合可视模式**

```
v i (    # 选中括号内内容（高亮显示）
v a (    # 选中括号及内容
然后按 y 复制 或 d 剪切
```

### **2. 批量操作**

```
# 假设有多个函数调用
func1(arg1, arg2);
func2(arg3, arg4);

# 在第一个括号上：
ci(      # 清空并进入插入模式，输入新参数
c%       # 从当前括号到匹配括号，替换内容
```

### **3. 跳转到匹配括号**

```
%        # 跳转到匹配的括号
         # 可以配合上面的命令使用
```

---

## 四、实际场景示例

### **场景1：修改函数参数**

```python
# 原始
def calculate(x, y, z):
    pass

# 光标在括号内
ci(      # 清空括号内容
# 输入新参数
def calculate(a, b):
    pass
```

### **场景2：移动函数调用**

```javascript
// 原始
const result = add(multiply(a, b), c);

// 想复制 multiply(a, b) 到其他地方
光标在 multiply 的括号内
yi(      // 复制 "a, b"
ya(      // 复制 "(a, b)"
```

### **场景3：删除条件语句**

```c
// 原始
if (x > 0 && y < 10) {
    // code
}

// 删除条件但保留 if 语句
光标在括号内
di(      // 剪切 "x > 0 && y < 10"
// 变成
if () {
    // code
}
```

---

## 五、常用文本对象速查表

| 命令  | 功能             | 示例代码    | 操作结果 |
| ----- | ---------------- | ----------- | -------- |
| `yi(` | 复制小括号内     | `func(arg)` | `arg`    |
| `ya(` | 复制小括号及内容 | `func(arg)` | `(arg)`  |
| `di(` | 剪切小括号内     | `func(arg)` | `func()` |
| `da(` | 剪切小括号及内容 | `func(arg)` | `func`   |
| `yi{` | 复制大括号内     | `{x: 1}`    | `x: 1`   |
| `ya{` | 复制大括号及内容 | `{x: 1}`    | `{x: 1}` |
| `yi[` | 复制中括号内     | `arr[0]`    | `0`      |
| `ya[` | 复制中括号及内容 | `arr[0]`    | `[0]`    |

---

## 六、进阶：自定义文本对象

### **添加到 ~/.config/nvim/init.vim 或 init.lua**

```vim
" 创建自定义文本对象，如引号
xnoremap i" :<c-u>normal! T"vt"<cr>
onoremap i" :normal vi"<cr>
xnoremap a" :<c-u>normal! F"vf"<cr>
onoremap a" :normal va"<cr>

" 然后可以：
yi"     # 复制引号内内容
ya"     # 复制引号及内容
```

---

## 七、Neovim 内置的文本对象

### **完整列表**

```
w       # 一个单词（包括空格后的）
W       # 一个WORD（以空格分隔）
s       # 一个句子
p       # 一个段落
t       # 一个XML标签（如<div>内容</div>）
'       # 单引号内
"       # 双引号内
`       # 反引号内
( 或 b  # 小括号
{ 或 B  # 大括号
[       # 中括号
<       # 尖括号
```

---

## 八、记忆口诀

### **简单口诀：**

```
y = 复制 (yank)
d = 剪切 (delete)
c = 修改 (change)

i = 里面 (inner)
a = 周围 (around)

()[]{}<> = 各种括号
```

### **使用流程：**

1. 把光标**放到括号内**的任何位置
2. 按 `yi(`（复制内容）或 `ya(`（复制含括号）
3. 移动光标到目标位置
4. 按 `p` 粘贴

---

## 九、练习建议

### **在 Neovim 中练习：**

```bash
# 1. 创建一个测试文件
nvim test.txt

# 2. 输入一些带括号的文本
(hello world)
[test array]
{key: value}

# 3. 练习：
# - 光标移到括号内，按 yi(, ya(
# - 按 p 粘贴看看效果
```

### **常用组合练习：**

```
1. 修改函数参数：ci( → 输入新参数
2. 复制JSON值：光标在值上，yi{ → p
3. 删除数组元素：光标在括号内，di[ → 删除内容
```

---

## 十、快速参考卡片

```
最常用：
    yi(   - 复制括号内
    ya(   - 复制括号及内容
    di(   - 剪切括号内
    da(   - 剪切括号及内容
    ci(   - 修改括号内

其他括号：
    yi{   yi[   yi<
    ya{   ya[   ya<

选择模式：
    vi(   - 选择括号内（可视化）
    va(   - 选择括号及内容

跳转：
    %     - 跳转到匹配括号
```

**记住**：先移动光标到括号内，再按 `yi(` 或 `ya(` 等命令。刚开始可能不习惯，练习几次就变成肌肉记忆了！
